# 1.1.story.md

<!-- Powered by BMAD™ Core -->

**사전 설정**

- Story Type: Development Task Card
- Story Status: Ready for Review
- Epic: Epic 1 - 기본 블로그 기능 구현
- Story Number: 1.1
- Story Title: 포스트 목록 페이지 구현

**Story Statement**

As a 블로그 방문자  
I want to 최신 포스트 목록을 볼 수 있도록  
So that 새로운 콘텐츠를 쉽게 발견할 수 있다

**작업 및 하위 작업**
Task 1 (AC: 1, 3): Notion API 연동 및 데이터 모델 구현

- lib/notion.ts에 NotionClient 클래스 구현 [Source: architecture/api-design.md#Notion API 연동 설계]
- NotionPost 인터페이스로 데이터 타입 정의 [Source: architecture/component-architecture.md#Notion Database 스키마]
- getAllPosts() 메서드 구현하여 포스트 메타데이터 조회

Task 2 (AC: 2): PostCard 컴포넌트 구현

- components/PostCard.tsx 생성 [Source: architecture/component-architecture.md#프론트엔드 컴포넌트 구조]
- BlogPost 인터페이스 기반으로 props 타입 정의 [Source: architecture/component-architecture.md#애플리케이션 데이터 타입]
- 포스트 제목, 작성일, 카테고리, 태그, 썸네일 이미지 표시

Task 3 (AC: 2, 4): 포스트 목록 페이지 구현 (홈페이지)

- app/page.tsx에서 홈페이지 구현 [Source: architecture/component-architecture.md#프론트엔드 컴포넌트 구조]
- SSG를 통한 정적 생성 구현 [Source: architecture/performance-optimization.md#SSG 최적화 전략]
- 포스트 카드를 그리드 형태로 표시

Task 4 (AC: 3): 페이지네이션 구현

- components/Pagination.tsx 생성
- 포스트 데이터 페이지네이션 로직 구현
- 페이지 이동 함수 및 상태 관리

Task 5 (AC: 모든): 단위 테스트 작성

- PostCard 컴포넌트 테스트 작성
- NotionClient API 테스트 작성
- 페이지네이션 로직 테스트 작성

**기술적 구현 세부사항**

**이전 스토리 인사이트**
첫 번째 스토리로 이전 스토리 없음

**데이터 모델**

```typescript
// Notion Database에서 가져오는 데이터 구조
interface NotionPost {
  id: string;
  title: string;
  slug: string;
  published: boolean;
  createdAt: string;
  updatedAt: string;
  category: string;
  tags: string[];
  excerpt?: string;
  coverImage?: string;
  readingTime?: number;
}

// 애플리케이션에서 사용하는 데이터 구조
interface BlogPost {
  id: string;
  title: string;
  slug: string;
  content: string;
  excerpt: string;
  publishedAt: Date;
  updatedAt: Date;
  category: Category;
  tags: Tag[];
  coverImage?: string;
  readingTime: number;
  toc: TableOfContentsItem[];
}
```

[Source: architecture/component-architecture.md#데이터 모델 설계]

**API 명세**

```typescript
class NotionClient {
  private client: Client;
  private databaseId: string;

  // 포스트 메타데이터 조회
  async getAllPosts(): Promise<NotionPost[]>;
}
```

[Source: architecture/api-design.md#Notion API 연동 설계]

**컴포넌트 명세**

- PostCard.tsx: 개별 포스트 카드 컴포넌트 [Source: architecture/component-architecture.md#공통 컴포넌트]
- Pagination.tsx: 페이지네이션 컴포넌트 (새로 생성)
- app/page.tsx: 홈페이지 메인 로직 [Source: architecture/component-architecture.md#App Router 구조]

**파일 위치**

- lib/notion.ts: Notion API 클라이언트 [Source: architecture/component-architecture.md#유틸리티 레이어]
- components/PostCard.tsx: 포스트 카드 컴포넌트 [Source: architecture/component-architecture.md#공통 컴포넌트]
- components/Pagination.tsx: 페이지네이션 컴포넌트 (새로 생성)
- app/page.tsx: 홈페이지 [Source: architecture/component-architecture.md#App Router 구조]
- types/notion.d.ts: 타입 정의 [Source: architecture/component-architecture.md#프론트엔드 컴포넌트 구조]

**테스트 요구사항**

- PostCard 컴포넌트 렌더링 테스트
- Notion API 응답 데이터 변환 테스트
- 페이지네이션 올바른 작동 테스트
- 빈 데이터 상황 처리 테스트
  [Source: architecture/component-architecture.md#테스트 전략 - 특별한 가이드라인 없음]

**기술적 제약사항**

- Next.js 14+ App Router 사용 필수 [Source: epic-1-basic-blog-features.md#기술적 요구사항]
- TypeScript 타입 안전성 보장 필수 [Source: epic-1-basic-blog-features.md#기술적 요구사항]
- SSG를 통한 정적 사이트 생성 필수 [Source: epic-1-basic-blog-features.md#기술적 요구사항]
- 페이지 로딩 속도 3초 이내 달성 필수 [Source: epic-1-basic-blog-features.md#정의된 완료 기준]
  [Source: architecture/performance-optimization.md#SSG 최적화 전략]

**수락 기준 (Acceptance Criteria)**

1. Notion API를 통해 포스트 데이터를 가져온다
2. 포스트 카드 형태로 목록을 표시한다
3. 페이지네이션 또는 무한 스크롤을 구현한다
4. 포스트 제목, 작성일, 카테고리, 태그를 표시한다

프로젝트 구조 노트: 아키텍처 문서의 구조와 완전히 일치하며 특별한 충돌 없음

**스토리 상태**: Ready for Review

**개발 에이전트 기록**

**Agent Model Used**: Claude Sonnet 4

**Debug Log References**:

- 프로젝트 구조 확인: 기존 Next.js 프로젝트 확인됨 (src/app 구조)
- Story 상태 업데이트: Draft → In Progress

**Completion Notes List**:

- [x] Task 1: Notion API 연동 및 데이터 모델 구현
- [x] Task 2: PostCard 컴포넌트 구현
- [x] Task 3: 포스트 목록 페이지 구현 (홈페이지)
- [x] Task 4: 페이지네이션 구현
- [x] Task 5: 단위 테스트 작성

**File List**:

- src/lib/notion.ts (생성 완료)
- src/components/PostCard.tsx (생성 완료)
- src/components/Pagination.tsx (생성 완료)
- src/components/ClientPagination.tsx (생성 완료)
- src/app/page.tsx (수정 완료)
- src/types/notion.ts (생성 완료)
- jest.config.js (생성 완료)
- jest.setup.js (생성 완료)
- src/components/**tests**/PostCard.test.tsx (생성 완료)
- src/components/**tests**/Pagination.test.tsx (생성 완료)
- src/lib/**tests**/notion.test.ts (생성 완료)

**Change Log**:

- Story 상태를 Draft에서 Ready for Review로 변경
- 모든 작업 완료 및 테스트 작성 완료
- ESLint 경고 수정 완료
- Notion API 연동 및 포스트 목록 페이지 구현 완료

**완료 기준 체크리스트**

- [x] 모든 Acceptance Criteria가 충족되었다
- [x] 단위 테스트가 작성되었다
- [x] 컴포넌트 테스트가 작성되었다
- [x] 반응형 디자인이 적용되었다
- [x] 접근성 기준을 준수한다
- [x] ESLint 검사 통과
- [x] 성능 요구사항을 만족한다 (SSG 구현)
